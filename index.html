<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>CheckPointReview</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/vendors/adminlte/adminLTE.css">
    <link rel="stylesheet" href="css/vendors/adminlte/skin-blue.css">
    <link rel="stylesheet" href="css/vendors/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
</head>
<body class="skin-blue sidebar-collapse">
    <script type="text/x-handlebars">
        <header class="main-header">
            <div class="logo">
               CheckPointReview
            </div>
            <nav class="navbar navbar-static-top" role="navigation">
                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">
                        <!--<li>{{#link-to 'posts'}}Posts{{/link-to}}</li>
                        <li>{{#link-to 'about'}}About{{/link-to}}</li>-->
                        <li>{{#link-to 'themes'}}Themes{{/link-to}}</li>
                    </ul>
                </div>
            </nav>
        </header>
        {{outlet}}
    </script>

    <script type="text/x-handlebars" id="posts">
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span3">
                    <table class='table'>
                        <thead>
                            <tr><th>Recent Posts</th></tr>
                        </thead>
                        <tbody>
                            {{#each model}}
                            <tr>
                                <td>
                                    {{#link-to 'post' this}}{{title}} <small class='muted'>by {{author.name}}</small>{{/link-to}}
                                </td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
                <div class="span9">
                    {{outlet}}
                </div>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" id="themes">
        <div class="wrapper">
            <div class="content-wrapper">
                {{outlet}}
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" id="themes/index">
        <!-- Content Header (Page header) -->

        <section class="content-header">
            <h1>
                Major Incidents
                <small>what you need to know</small> 
            </h1>
            <ol class="breadcrumb">
                <li>{{#link-to}}<i class="fa fa-dashboard"></i>Dashboard{{/link-to}}</li>
            </ol>
        </section>

        <section class="content">
            <!-- Apple to Apple Chart-->
            <div class="row">
                <div class="col-md-6">
                    <!-- Left handside Pie Chart -->
                    <div class="box box-info">
                        <div class="box-header with-border">
                            <h3 class="box-title">Themes</h3>
                          
                        </div>
                        <div class="box-body">
                            <div class="chart-responsive">
                                <div id="gopiechart" style="width: 500px; height: 400px"></div>
                            </div>
                            <!-- ./chart-responsive -->
                        </div><!-- /.box-body-->
                        <div class="box-footer no-padding">
                            <ul class="nav nav-pills nav-stacked">
                                {{#each}}
                                <li>{{#link-to 'theme' this.id}}<i class="fa fa-chevron-right"></i>{{name}} <span class="pull-right text-aqua">{{description}}</span>{{/link-to}}</li>
                                {{/each}}
                            </ul>
                        </div><!-- /.footer -->
                    </div><!-- /.box -->
                </div><!-- /.col -->
                <div class="col-md-6">
                    <!-- Right handside Pie Chart -->
                    <div class="box box-info">
                        <div class="box-header with-border">
                            <h3 class="box-title">
                                Recommended Themes & Subject
                            </h3>
                          
                        </div><!-- /.box-header -->
                        <div class="box-body">

                            <div class="box box-primary box-solid">
                                <div class="box-header with-border">
                                    <h3 class="box-title">#1: Azure</h3>
                                    <div class="box-tools pull-right">
                                        <!--<button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>-->
                                    </div><!-- /.box-tools -->
                                </div><!-- /.box-header -->
                                <div class="box-body">
                                    <blockquote>The teams observed and agreed that majority of the major incidents in April was caused or related to Azure Infrastructure, Network, or service-related incidents.  We recommend that we have a conversation w/ the Azure PG and SDO at this month’s Checkpoint Review to discuss Azure Infrastructure, Recovery Services, and Resiliency / DR Roadmap.
                                    </blockquote>

                                </div><!-- /.box-body -->
                                

                            </div><!-- /.col -->

                  
                            </div><!-- /.box-body -->
                    
                        <div class="box-body">

                            <div class="box box-primary box-solid">
                                <div class="box-header with-border">
                                    <h3 class="box-title">#2: Platform Specific</h3>
                                    <div class="box-tools pull-right">
                                        <!--<button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>-->
                                    </div><!-- /.box-tools -->
                                </div><!-- /.box-header -->
                                <div class="box-body">
                                    <blockquote>Aligning with the checkpoint reviews of ASG PG, please select 2 to 3 candidates within any of the themes sections for review during the May Checkpoint Review meeting.
                                    </blockquote>

                                </div><!-- /.box-body -->


                            </div><!-- /.col -->


                        </div><!-- /.box-body -->
                        <div class="box-body">

                            <div class="box box-primary box-solid">
                                <div class="box-header with-border">
                                    <h3 class="box-title">#3: Office 365 / Exchange </h3>
                                    <div class="box-tools pull-right">
                                        <!--<button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>-->
                                    </div><!-- /.box-tools -->
                                </div><!-- /.box-header -->
                                <div class="box-body">
                                    <blockquote>Revisit the O365 discussion that we decided to drop in April (I don’t think this is as valuable as Azure or Platform Specific items above.)
                                    </blockquote>

                                </div><!-- /.box-body -->


                            </div><!-- /.col -->


                        </div><!-- /.box-body -->

                        <div class="box-footer no-padding">
                           
                        </div><!-- /.footer -->
                    </div><!-- /.box -->
                </div><!-- /.col -->
            </div><!-- /.row -->
          
        </section><!-- /.section-->
    </script>
  

    <script type="text/x-handlebars" id="posts/index">
        <p class="text-warning">Please select a post</p>
    </script>
    <script type="text/x-handlebars" id="post">
        {{#if isEditing}}
        {{partial 'post/edit'}}
        <button {{action 'doneEditing'}}>Done</button>
        {{else}}
        <button {{action 'edit'}}>Edit</button>
        {{/if}}
        <h1>{{title}}</h1>
        <h2>by {{author.name}} <small class='muted'>({{format-date date}})</small></h2>
        <hr>
        <div class='intro'>
            {{format-markdown excerpt}}
        </div>
        <div class='below-the-fold'>
            {{format-markdown body}}
        </div>
    </script>
    <script type="text/x-handlebars" id="theme">
        <!-- this is themes.index-->
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Major Incidents
                <small>what you need to know</small> 
            </h1>

            <ol class="breadcrumb">
                <li>{{#link-to 'themes'}}<i class="fa fa-dashboard"></i>Dashboard{{/link-to}}</li>
                <li>{{#link-to 'theme' this.id}}Themes by {{theme.name}}{{/link-to}}</li>
            </ol>
        </section>
        <!-- Main content -->
        <section class="content">
            <div class="row">
                <!-- left column -->
                <div class="col-md-12">
                    <!-- general form elements -->
                    <div class="box box-primary">
                        <div class="box-header">
                            <div class="info-box bg-aqua">
                                <span class="info-box-icon"><i class="ion-ios-chatbubble-outline"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">{{theme.name}} </span>
                                    <span class="info-box-number">{{theme.description}}</span>
                                    <div class="progress">
                                        <div class="progress-bar" style="width: 100%"></div>
                                    </div>
                                    <span class="progress-description">
                                        {{theme.tagLine}}
                                    </span>
                                </div><!-- /.info-box-content -->
                            </div><!-- /.info-box -->
                        </div><!-- /.box-header -->
                        <div class="box-body">
                            {{#each incident in incidents}}
                            <div class="form-group">
                                <div class="box box-primary collapsed-box box-solid">
                                    <div class="box-header">
                                        <h3 class="box-title">{{incident.description}} -  [{{incident.majorincidentId}}]</h3>
                                        <div class="box-tools pull-right">
                                            
                                            <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
                                        </div><!-- /.box-tools -->
                                    </div><!-- /.box-header -->
                                    <div class="box-body">
                                        <p><h5><b>What happened </b></h5></p>
                                        <blockquote>
                                            <p>{{incident.fullDescription}}</p>
                                            <!--<footer>[A basic factor about para] <cite title="Source Title">[An insight or comment]</cite></footer>-->
                                        </blockquote>
                                       
                                        <p><h5><b>Business impact</h5></b></p>
                                        <blockquote>
                                            <p>{{incident.bussinessImpact}}</p>
                                            <!--<footer>Cost: $10,000,000 <cite title="Source Title"> includes direct and indirect impact</cite></footer>-->
                                        </blockquote>

                                        <p><h5><b>Root cause</h5></b></p>
                                        <blockquote>
                                            <p>{{incident.rootCause}}</p>
                                            <!--<footer>Cost: $10,000,000 <cite title="Source Title"> includes direct and indirect impact</cite></footer>-->
                                        </blockquote>

                                       
                                    </div><!-- /.box-body -->
                                    <!-- /.box-body -->
                                </div><!-- /.box -->
                            </div>
                            {{/each}}
                        </div>
                    </div><!-- /.box -->
                </div>   <!-- /.row -->
            </div>
        </section><!-- /.content -->
    </script>

    <script type="text/x-handlebars" id="post/_edit">
        <p>{{input type="text" value=title}}</p>
        <p>{{input type="text" value=excerpt}}</p>
        <p>{{textarea value=body}}</p>
    </script>
    <script type="text/x-handlebars" id="about">
        <div class='about'>
            <p>
                Yehuda Katz is a member of the <a href="http://emberjs.com">Ember.js</a>, <a href="http://rubyonrails.org">Ruby on Rails</a>
                and <a href="http://www.jquery.com">jQuery</a> Core Teams; he spends his daytime hours at the startup he founded,
                <a href="http://www.tilde.io">Tilde Inc.</a>.
            </p>
            <p>
                Yehuda is co-author of best-selling <a href="http://affiliate.manning.com/idevaffiliate.php?id=485_176">jQuery in Action</a> and
                <a href="http://affiliate.manning.com/idevaffiliate.php?id=485_145">Rails 3 in Action</a>.
            </p>
            <p>
                He spends most of his time hacking on open source—his main projects, along with others, like <a href="https://github.com/wycats/thor">Thor</a>,
                <a href="http://www.handlebarsjs.com">Handlebars</a> and <a href="https://github.com/carlhuda/janus">Janus</a>—or traveling the world doing evangelism work.
            </p>
            <p>He can be found on Twitter as <a href="http://www.twitter.com/wycats">@wycats</a>.</p>
        </div>
        <div class='about'>
            <p>My name is Tom Dale. I helped create <a href="http://www.emberjs.com/">Ember.js</a>, a JavaScript framework that brings sanity to the web.</p>
            <p>In October of 2011, I co-founded <a href="http://www.tilde.io">Tilde</a> with Yehuda Katz, Leah Silber and Carl Lerche.</p>
            <p>In my spare time I run a cash-for-beer exchange program at many local San Francisco dive bars.</p>
        </div>
    </script>
    <script src="js/libs/jquery-v1.11.1.js"></script>
    <script src="js/libs/handlebars-v1.3.0.js"></script>
    <script src="js/libs/ember-v1.6.1.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.1.0/moment.min.js"></script>
    <script src="js/vendors/adminlte/app.min.js"></script>
    <script src="js/vendors/bootstrap/bootstrap.min.js"></script>
    <script src="js/app.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>


    <script type="text/javascript">
        google.load("visualization", "1", { packages: ["corechart"] });
        google.setOnLoadCallback(drawChart);
        function drawChart() {
            //var data = google.visualization.arrayToDataTable([
            //  ['Themes', 'Dollar Impact (in millions)'],
            //  ['Design Flaws', 13], ['Monitoring', 83], ['Capacity', 14],
            //  ['Deployment', 23], ['Testing', 46]
            //]);

            // ------- Version 1------------
            // Add rows + data at the same time
            // -----------------------------
            var data = new google.visualization.DataTable();

            // Declare columns
            data.addColumn('string', 'Themes');
            data.addColumn('number', 'Dollar Impact in millions');

            // Add data.
            data.addRows([
              ['Azure', 4], // Format as "22,500"
              ['Platform', 3],
              ['Exchange', 1],
              ['CRM', 1]
             
            ],
          false);

            var options = {
                pieHole: 0.4,
                legend: 'none',
                pieSliceText: 'label',
                slices: {
                    4: { offset: 0.03 },
                    3: { offset: 0.01 },
                    2: { offset: 0.01 },
                    1: { offset: 0.01 },

                },
            };

            //// The select handler. Call the chart's getSelection() method
            //function selectHandler() {
            //    var selectedItem = chart.getSelection()[0];
            //    if (selectedItem) {
            //        var value = data.getValue(selectedItem.row, 0);
            //        alert('The user selected ' + value);
            //    }
            //}


            var gopie = document.getElementById('gopiechart');
            console.log('this is in drawchart is gopie', gopie);
            var chart = new google.visualization.PieChart(gopie); //document.getElementById('gopiechart'));
            chart.draw(data, options);
            //google.visualization.events.addListener(chart, 'select', selectHandler);

        }
    </script>



</body>
</html>
